{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import Note from\"./Note\";import NewCard from\"./NewCard\";import Header from\"./Header\";import Footer from\"./Footer\";function App(){const[data,setData]=React.useState([]);const[dataUpdated,setDataUpdated]=useState(true);function saveData(title,content){// setData([...data, { title: title, content: content }]);\nsetDataUpdated(!dataUpdated);}function removeFromList(id){// setData((data) => {\n//   return data.filter((item, index) => {\n//     return index !== id;\n//   });\n// });\nasync function deleteData(id){console.log(\"delete id: \",id);const response=await fetch(\"http://localhost:3000/api/deleteData/\"+id,{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}});if((response===null||response===void 0?void 0:response.status)===200){setDataUpdated(!dataUpdated);}};deleteData(id.toString());}// fetching data from backend \nuseEffect(()=>{console.log(\"use effect called\");fetch(\"/api\").then(response=>response.json()).then(data=>{setData(data);console.log(data);});},[dataUpdated]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(NewCard,{onAdd:saveData}),/*#__PURE__*/React.createElement(\"dl\",null,data.map((item,index)=>/*#__PURE__*/React.createElement(Note,{key:index,id:item._id,title:item.title,content:item.content,onDelete:removeFromList}))),/*#__PURE__*/React.createElement(Footer,null));}export default App;","map":{"version":3,"names":["React","useEffect","useState","Note","NewCard","Header","Footer","App","data","setData","dataUpdated","setDataUpdated","saveData","title","content","removeFromList","id","deleteData","console","log","response","fetch","method","headers","status","toString","then","json","createElement","onAdd","map","item","index","key","_id","onDelete"],"sources":["/Users/angela/Documents/KeeperApp/client/src/components/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Note from \"./Note\";\r\nimport NewCard from \"./NewCard\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\n\r\nfunction App() {\r\n  const [data, setData] = React.useState([]);\r\n  const [dataUpdated, setDataUpdated] = useState(true);\r\n\r\n  function saveData(title, content) {\r\n    // setData([...data, { title: title, content: content }]);\r\n    setDataUpdated(!dataUpdated);\r\n  }\r\n\r\n  function removeFromList(id) {\r\n    // setData((data) => {\r\n    //   return data.filter((item, index) => {\r\n    //     return index !== id;\r\n    //   });\r\n    // });\r\n    async function deleteData (id) {\r\n      console.log(\"delete id: \", id)\r\n      const response = await fetch(\"http://localhost:3000/api/deleteData/\" + id, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n      if(response?.status === 200) {\r\n        setDataUpdated(!dataUpdated);\r\n      }\r\n    };\r\n    deleteData(id.toString());\r\n  }\r\n\r\n  // fetching data from backend \r\n  useEffect(()=>{\r\n    console.log(\"use effect called\")\r\n    fetch(\"/api\").then(\r\n      response => response.json() \r\n    ).then(\r\n      data =>{\r\n        setData(data);\r\n        console.log(data);\r\n      }\r\n    )\r\n  },[dataUpdated])\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n\r\n      <NewCard onAdd={saveData} />\r\n\r\n      <dl>\r\n        {data.map((item, index) => (\r\n          <Note\r\n            key={index}\r\n            id={item._id}\r\n            title={item.title}\r\n            content={item.content}\r\n            onDelete={removeFromList}\r\n          />\r\n        ))}\r\n      </dl>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAE7B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,KAAK,CAACE,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACQ,WAAW,CAAEC,cAAc,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAEpD,QAAS,CAAAU,QAAQA,CAACC,KAAK,CAAEC,OAAO,CAAE,CAChC;AACAH,cAAc,CAAC,CAACD,WAAW,CAAC,CAC9B,CAEA,QAAS,CAAAK,cAAcA,CAACC,EAAE,CAAE,CAC1B;AACA;AACA;AACA;AACA;AACA,cAAe,CAAAC,UAAUA,CAAED,EAAE,CAAE,CAC7BE,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEH,EAAE,CAAC,CAC9B,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,uCAAuC,CAAGL,EAAE,CAAE,CACzEM,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACF,GAAG,CAAAH,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEI,MAAM,IAAK,GAAG,CAAE,CAC3Bb,cAAc,CAAC,CAACD,WAAW,CAAC,CAC9B,CACF,CAAC,CACDO,UAAU,CAACD,EAAE,CAACS,QAAQ,CAAC,CAAC,CAAC,CAC3B,CAEA;AACAxB,SAAS,CAAC,IAAI,CACZiB,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAChCE,KAAK,CAAC,MAAM,CAAC,CAACK,IAAI,CAChBN,QAAQ,EAAIA,QAAQ,CAACO,IAAI,CAAC,CAC5B,CAAC,CAACD,IAAI,CACJlB,IAAI,EAAG,CACLC,OAAO,CAACD,IAAI,CAAC,CACbU,OAAO,CAACC,GAAG,CAACX,IAAI,CAAC,CACnB,CACF,CAAC,CACH,CAAC,CAAC,CAACE,WAAW,CAAC,CAAC,CAEhB,mBACEV,KAAA,CAAA4B,aAAA,yBACE5B,KAAA,CAAA4B,aAAA,CAACvB,MAAM,KAAE,CAAC,cAEVL,KAAA,CAAA4B,aAAA,CAACxB,OAAO,EAACyB,KAAK,CAAEjB,QAAS,CAAE,CAAC,cAE5BZ,KAAA,CAAA4B,aAAA,WACGpB,IAAI,CAACsB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACpBhC,KAAA,CAAA4B,aAAA,CAACzB,IAAI,EACH8B,GAAG,CAAED,KAAM,CACXhB,EAAE,CAAEe,IAAI,CAACG,GAAI,CACbrB,KAAK,CAAEkB,IAAI,CAAClB,KAAM,CAClBC,OAAO,CAAEiB,IAAI,CAACjB,OAAQ,CACtBqB,QAAQ,CAAEpB,cAAe,CAC1B,CACF,CACC,CAAC,cAELf,KAAA,CAAA4B,aAAA,CAACtB,MAAM,KAAE,CACN,CAAC,CAEV,CAEA,cAAe,CAAAC,GAAG"},"metadata":{},"sourceType":"module"}