(this["webpackJsonpstudents-changing-complex-state-forked"]=this["webpackJsonpstudents-changing-complex-state-forked"]||[]).push([[0],{3:function(e,t,n){e.exports=n(9)},9:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(2);var c=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"note"},l.a.createElement("h1",null," ",e.title," "),l.a.createElement("p",null," ",e.content," "),l.a.createElement("button",{onClick:function(){console.log("id to delete: ",e.id),e.onDelete(e.id)}},"DELETE")))};var r=function(e){const[t,n]=l.a.useState(""),[a,o]=l.a.useState("");return l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("input",{type:"text",placeholder:"Title",value:t,onChange:function(e){n(e.target.value),console.log(t)}}),l.a.createElement("textarea",{placeholder:"Take a note...",onChange:function(e){o(e.target.value),console.log(a)},value:a}),l.a.createElement("button",{onClick:function(l){l.preventDefault(),t.length>0&&a.length>0&&async function(){console.log("db: ",t,a);const l=await fetch("http://localhost:3000/api/postData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,content:a})});200===(null===l||void 0===l?void 0:l.status)&&(n(""),o(""),e.onAdd(t,a))}()}}," Add ")))};var u=function(){return l.a.createElement("div",null,l.a.createElement("header",null,l.a.createElement("h1",null,"Keeper")))};var i=function(){return l.a.createElement("div",null,l.a.createElement("footer",null,l.a.createElement("p",null," Copyright \u24d2 ",(new Date).getFullYear())))};var s=function(){const[e,t]=l.a.useState([]),[n,o]=Object(a.useState)(!0);function s(e){!async function(e){console.log("delete id: ",e);const t=await fetch("http://localhost:3000/api/deleteData/"+e,{method:"DELETE",headers:{"Content-Type":"application/json"}});200===(null===t||void 0===t?void 0:t.status)&&o(!n)}(e.toString())}return Object(a.useEffect)(()=>{console.log("use effect called"),fetch("/api").then(e=>e.json()).then(e=>{t(e),console.log(e)})},[n]),l.a.createElement("div",null,l.a.createElement(u,null),l.a.createElement(r,{onAdd:function(e,t){o(!n)}}),l.a.createElement("dl",null,e.map((e,t)=>l.a.createElement(c,{key:t,id:e._id,title:e.title,content:e.content,onDelete:s}))),l.a.createElement(i,null))};n.n(o).a.render(l.a.createElement(s,null),document.getElementById("root"))}},[[3,1,2]]]);
//# sourceMappingURL=main.c47959bb.chunk.js.map